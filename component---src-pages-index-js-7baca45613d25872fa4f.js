"use strict";(self.webpackChunkmastermind=self.webpackChunkmastermind||[]).push([[678],{785:function(t,e,r){r.r(e),r.d(e,{default:function(){return w}});var a=r(7);function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var n=r(721),o=function(t){var e=t.list.map((function(e){var r=e===t.activeColor?"active":"";return a.createElement("button",{className:"color-holder "+e+" "+r,"aria-label":"color-holder "+e,key:e,onClick:function(){t.action(e)}})}));return a.createElement("div",{className:"colors"},e)},i=function(t){for(var e=[],r="",s=t.state.defeat&&!t.state.victory?"":" hidden",n=t.state.defeat||t.state.victory?"":" hidden",o=0;o<t.state.trueRow.length;o++)r=t.state.trueRow[o],e.push(a.createElement("div",{className:"color-holder "+r,key:"s_"+o}));return a.createElement("div",{className:"solution colors"},a.createElement("div",{className:s},a.createElement("p",{className:"text-xl"},"Solution:"),e),a.createElement("div",{className:n},a.createElement("button",{className:"game-mode mt-4",onClick:t.newGame},"Play Again?")))},c=function(t){function e(){return t.apply(this,arguments)||this}return(0,n.Z)(e,t),e.prototype.render=function(){for(var t=[],e=0;e<this.props.state.totalRows;e++)t.push(a.createElement(l,{key:"row_"+e,id:"row_"+e,state:this.props.state,pegAction:this.props.pegAction,checkAction:this.props.checkAction}));return a.createElement("div",{className:"board"},t)},e}(a.Component),l=function(t){var e="";return+t.id.substr(4)===t.state.activeRow&&(e="active"),a.createElement("div",{className:"row "+e,id:t.id},a.createElement(u,{rowId:t.id,state:t.state,pegAction:t.pegAction}),a.createElement(m,{state:t.state,rowId:t.id,checkAction:t.checkAction}),a.createElement(p,{state:t.state,rowId:t.id}))},u=function(t){function e(){return t.apply(this,arguments)||this}return(0,n.Z)(e,t),e.prototype.render=function(){for(var t=this.props.rowId.substr(4),e=[],r=0;r<4;r++)e.push(a.createElement(h,{state:this.props.state,pegAction:this.props.pegAction,key:"p"+t+"-"+r,pegId:"p"+t+"-"+r}));return a.createElement("div",{className:"circles"}," ",e," ")},e}(a.Component),h=function(t){function e(){return t.apply(this,arguments)||this}return(0,n.Z)(e,t),e.prototype.render=function(){var t=this,e=+this.props.pegId.substr(this.props.pegId.indexOf("-")+1),r=+this.props.pegId.substr(1,this.props.pegId.indexOf("-")-1),s="";if(this.props.state.activeRow===r)s=this.props.state.currentRow[e];else for(var n in this.props.state.previousRows)+n==+r&&(s=this.props.state.previousRows[r][e]);return a.createElement("button",{id:this.props.pegId,className:"peg "+s,"aria-label":"peg "+s,onClick:function(){return t.props.pegAction(t.props.state.activeColor,t.props.pegId)}})},e}(a.Component),p=function(t){for(var e=[],r="",s=+t.rowId.substr(4),n=t.state.hints,o=t.state.previousHints,i=0;i<n.length;i++){if(s===t.state.activeRow)r=2===n[i]?"exact":1===n[i]?"partial":"";else for(var c=0;c<o.length;c++)s===c&&(r=2===o[c][i]?"exact":1===o[c][i]?"partial":"");e.push(a.createElement(d,{hintClass:r,key:"h_"+s+i,id:"h_"+s+i}))}return a.createElement("div",{className:"hints"},e)},d=function(t){return a.createElement("span",{className:t.hintClass,id:t.id})},m=function(t){var e=+t.rowId.substr(4),r="disabled";t.state.activeRow===e&&(r=t.state.canCheck?"":"disabled");var s="disabled"===r?function(){return!1}:t.checkAction;return a.createElement("button",{className:"ok-button "+r,"aria-label":"ok-button",onClick:s},"check")},f=function(t){function e(e){var r;(r=t.call(this,e)||this).activateColor=r.activateColor.bind(s(r)),r.setColor=r.setColor.bind(s(r)),r.checkRow=r.checkRow.bind(s(r)),r.newGame=r.newGame.bind(s(r)),r.difficulty=e.difficulty;var a=[],n=4;"easy"===e.difficulty?(a=["red","green","blue","orange"],n=3):(a=["red","green","blue","orange","purple"],n=4);for(var o=[],i=0;i<4;i++)o.push(a[Math.floor(Math.random()*(n-0+1))+0]);return r.state={colors:a,activeColor:"red",previousRows:[],previousHints:[],currentRow:["","","",""],hints:[0,0,0,0],activeRow:0,totalRows:10,trueRow:o,canCheck:!1,victory:!1,defeat:!1},r}(0,n.Z)(e,t);var r=e.prototype;return r.activateColor=function(t){this.setState({activeColor:t})},r.setColor=function(t,e){if(this.state.victory)return!1;var r=+e.substr(1,e.indexOf("-")-1),a=+e.substr(e.indexOf("-")+1),s=this.state.currentRow,n=0;if(this.state.activeRow===r&&t){for(var o in s[a]=t,this.setState({currentRow:s}),s)s[o].length>0&&n++;n>=s.length?this.setState({canCheck:!0}):this.setState({canCheck:!1})}},r.checkRow=function(){for(var t=JSON.parse(JSON.stringify(this.state.currentRow)),e=JSON.parse(JSON.stringify(this.state.trueRow)),r=this.state.hints,a=this.state.previousHints,s=this.state.previousRows,n=0;n<4;n++)t[n]===e[n]&&(r[n]=2,delete t[n],delete e[n]);for(var o in t)for(var i in e)t[o]===e[i]&&(r[o]=1,delete t[o],delete e[i]);r.sort((function(t,e){return e-t}));var c=!0;for(var l in r)if(r[l]<2){c=!1;break}var u=this.state.defeat;this.state.activeRow>=this.state.totalRows-1&&(u=!0),a.push(r),s.push(this.state.currentRow),this.setState({hints:[0,0,0,0],activeRow:this.state.activeRow+1,previousHints:a,currentRow:["","","",""],previousRows:s,canCheck:!1,victory:c,defeat:u})},r.newGame=function(){var t=4;t="easy"===this.difficulty?3:4;for(var e=[],r=0;r<4;r++)e.push(this.state.colors[Math.floor(Math.random()*(t-0+1))+0]);this.setState({activeRow:0,previousRows:[],previousHints:[],currentRow:["","","",""],hints:[0,0,0,0],trueRow:e,canCheck:!1,victory:!1,defeat:!1})},r.render=function(){return a.createElement("div",{className:"game-container"},a.createElement(o,{list:this.state.colors,activeColor:this.state.activeColor,action:this.activateColor}),a.createElement(c,{state:this.state,pegAction:this.setColor,checkAction:this.checkRow}),a.createElement(i,{state:this.state,newGame:this.newGame}))},e}(a.Component),v=r(705);function w(){var t=a.useState(""),e=t[0],r=t[1];return a.createElement(a.Fragment,null,a.createElement(v.Z,{title:"Home"}),a.createElement("main",{className:"grid grid-cols-1"},e?a.createElement(f,{difficulty:e}):a.createElement(a.Fragment,null,a.createElement("p",{className:"text-xl text-center"},"Choose a difficulty level..."),a.createElement("div",{className:"grid grid-cols-2"},a.createElement("button",{className:"game-mode",onClick:function(){return r("easy")}},"Easy"),a.createElement("button",{className:"game-mode",onClick:function(){return r("hard")}},"Hard")))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-7baca45613d25872fa4f.js.map