"use strict";(self.webpackChunkmastermind=self.webpackChunkmastermind||[]).push([[691],{7411:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(5007),a=r(5785);function c(e){var t=e.ariaLabel,r=e.className,a=e.piece,c=e.setActivePiece,l=n.useCallback((function(){return c(a)}),[a,c]);return n.createElement("button",{type:"button","aria-label":t,className:r,onClick:l})}function l(e){var t=e.activePiece,r=e.ariaLabel,c=e.className,l=e.currentRow,u=e.disabled,i=e.piece,s=e.setCurrentRow,o=n.useCallback((function(){var e=(0,a.Z)(l);e[i]=t,s(e)}),[t,l,i,s]);return n.createElement("button",{type:"button","aria-label":r,className:c,disabled:u,onClick:o})}var u=r(9707);function i(e){var t=e.activePiece,r=e.activeRow,a=e.checkSolution,c=e.currentRow,i=e.previousHints,s=e.previousRows,o=e.row,m=e.setCurrentRow,f=[],d=[],p=r===o;return s.current[o]&&(f=s.current[o]),i.current[o]&&(d=i.current[o]),n.createElement("div",{className:"flex flex-col gap-4"},p&&n.createElement(n.Fragment,null,n.createElement("h1",null,"Attempt ",r+1),n.createElement("button",{type:"button",className:"game-mode mx-auto w-48",onClick:a,disabled:""===c[0]||""===c[1]||""===c[2]||""===c[3]},"Check")),0!==d.length&&n.createElement("div",{className:"mx-auto flex w-full items-center justify-center"},n.createElement("p",null,"Hints"),"Â ",d.map((function(e,t){return n.createElement("span",{className:"mx-1 h-1 w-1 rounded-full border-2 border-black p-1 dark:border-white "+(0,u.xW)(e),key:"hint-"+o+"-"+t})}))),n.createElement("div",{className:"my-2 flex w-full items-center justify-center "+(p?"rounded-lg border-2 border-solid border-black dark:border-white":"")+" "+(0!==f.length?"my-0 p-2":"my-2 p-8")},0!==f.length?n.createElement(n.Fragment,null,f.map((function(e,t){return n.createElement("div",{className:"game-piece "+e,key:"game-piece-"+e+"-"+o+"-"+t})}))):n.createElement(n.Fragment,null,[0,1,2,3].map((function(e,r){return n.createElement(n.Fragment,{key:"button-"+r},n.createElement(l,{activePiece:t,ariaLabel:"peg "+(p?c[e]:""),className:"game-piece "+(p?c[e]:""),currentRow:c,disabled:!p||t===c[e],piece:e,setCurrentRow:m}))})))))}function s(e){var t=e.setDifficulty,r=e.solution,a=n.useCallback((function(){return t("")}),[t]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center justify-center"},r.current.map((function(e,t){return n.createElement("div",{className:"game-piece "+String(e),key:"solution-"+String(e)+"-"+String(t)})}))),n.createElement("button",{type:"button",className:"game-mode mx-auto w-48",onClick:a},"Play again?"))}function o(e){var t=e.pieces,r=e.setDifficulty,l=e.solution,u=n.useState(""),o=u[0],m=u[1],f=n.useState(0),d=f[0],p=f[1],b=n.useState(["","","",""]),g=b[0],E=b[1],v=n.useState(!1),y=v[0],k=v[1],w=n.useRef([0,0,0,0]),h=n.useRef([]),N=n.useRef([]),C=n.useCallback((function(){for(var e=(0,a.Z)(g),t=(0,a.Z)(l.current),r=0;r<4;r++)e[r]===t[r]&&(w.current[r]=2,delete e[r],delete t[r]);for(var n in e.forEach((function(r,n){t.forEach((function(r,a){e[n]===t[a]&&(w.current[n]=1,delete e[n],delete t[a])}))})),w.current.sort((function(e,t){return t-e})),k(!0),w.current)if(w.current[n]<2){k(!1);break}h.current.push(w.current),N.current.push(g),w.current=[0,0,0,0],E(["","","",""]),p(d+1)}),[d,g,l]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center justify-center"},t.current.map((function(e){return n.createElement(n.Fragment,{key:e},n.createElement(c,{ariaLabel:e,className:"game-piece "+String(e)+" "+(e===o?"rounded-xl border-4 border-green-600":""),piece:e,setActivePiece:m}))}))),y?n.createElement(n.Fragment,null,n.createElement("p",null,"You won! The solution was:"),n.createElement(s,{setDifficulty:r,solution:l})):10!==d?n.createElement("div",{className:"grid grid-cols-1 justify-items-center lg:grid-cols-3"},[0,1,2,3,4,5,6,7,8,9].map((function(e,t){return n.createElement(n.Fragment,{key:"row-"+t},n.createElement(i,{activePiece:o,activeRow:d,checkSolution:C,currentRow:g,previousHints:h,previousRows:N,row:e,setCurrentRow:E}))}))):n.createElement(n.Fragment,null,n.createElement("p",null,"You lost! The solution was:"),n.createElement(s,{setDifficulty:r,solution:l})))}var m=r(8781);function f(){var e=n.useState(""),t=e[0],r=e[1],a=n.useRef([]),c=n.useRef([]),l=n.useCallback((function(){a.current=["grape","mango","strawberry","pineapple"];for(var e=[],t=0;t<4;t++)e.push(a.current[(0,u.XF)(4)]);c.current=e,r("easy")}),[]),i=n.useCallback((function(){a.current=["grape","mango","strawberry","pineapple","lion"];for(var e=[],t=0;t<4;t++)e.push(a.current[(0,u.XF)(5)]);c.current=e,r("hard")}),[]);return n.createElement(n.Fragment,null,n.createElement(m.Z,{title:"Home"}),n.createElement("main",{className:"grid grid-cols-1"},t?n.createElement(o,{pieces:a,setDifficulty:r,solution:c}):n.createElement(n.Fragment,null,n.createElement("p",{className:"text-center text-xl"},"Choose a difficulty level..."),n.createElement("div",{className:"grid grid-cols-2"},n.createElement("button",{type:"button",className:"game-mode",onClick:l},"Easy"),n.createElement("button",{type:"button",className:"game-mode",onClick:i},"Hard")))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-093a9cc8339a95fc951c.js.map